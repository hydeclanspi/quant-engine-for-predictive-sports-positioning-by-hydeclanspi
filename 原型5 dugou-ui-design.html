<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DUGOU Model Centre v5.8 - Complete UI Design</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    * { font-family: 'DM Sans', sans-serif; }
    .font-display { font-family: 'Playfair Display', serif; }
    .glow-card { position: relative; background: white; border-radius: 1rem; transition: all 0.3s ease; }
    .glow-card:hover { box-shadow: 0 0 0 1px rgba(251, 191, 36, 0.3), 0 8px 30px -12px rgba(251, 191, 36, 0.2); }
    .glow-card::after { content: ''; position: absolute; inset: 0; border-radius: 1rem; opacity: 0; transition: opacity 0.3s ease; background: radial-gradient(600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(251, 191, 36, 0.06), transparent 40%); pointer-events: none; }
    .glow-card:hover::after { opacity: 1; }
    .lift-card { transition: transform 0.2s ease, box-shadow 0.2s ease; }
    .lift-card:hover { transform: translateY(-2px); box-shadow: 0 8px 30px -12px rgba(0, 0, 0, 0.12); }
    .btn-hover { transition: all 0.2s ease; }
    .btn-hover:hover { transform: scale(1.02); }
    .btn-hover:active { transform: scale(0.98); }
    .sidebar-item { transition: all 0.2s ease; }
    .sidebar-item:hover { transform: translateX(3px); }
    .input-glow:focus { box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.15); }
    input[type="range"] { -webkit-appearance: none; height: 6px; background: #e7e5e4; border-radius: 999px; }
    input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; background: linear-gradient(135deg, #fbbf24, #f97316); border-radius: 50%; cursor: pointer; box-shadow: 0 2px 8px rgba(251, 191, 36, 0.5); transition: transform 0.15s ease; }
    input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.15); }
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #d6d3d1; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #a8a29e; }
    .chart-bar { transition: all 0.2s ease; }
    .chart-bar:hover { transform: scaleY(1.05); filter: brightness(1.1); }
    .modal-overlay { animation: fadeIn 0.2s ease; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .modal-content { animation: slideUp 0.3s ease; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    .animate-pulse { animation: pulse 2s infinite; }
    .stat-value { font-weight: 600; font-style: italic; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect } = React;

    const DugouDesign = () => {
      const [activePage, setActivePage] = useState('new');
      const [activeSubPage, setActiveSubPage] = useState(null);
      const [sidebarCollapsed, setSidebarCollapsed] = useState(false);
      const [modalData, setModalData] = useState(null);
      const [showDataMenu, setShowDataMenu] = useState(false);

      useEffect(() => {
        const handleMouseMove = (e) => {
          const cards = document.querySelectorAll('.glow-card');
          cards.forEach(card => {
            const rect = card.getBoundingClientRect();
            const x = ((e.clientX - rect.left) / rect.width) * 100;
            const y = ((e.clientY - rect.top) / rect.height) * 100;
            card.style.setProperty('--mouse-x', `${x}%`);
            card.style.setProperty('--mouse-y', `${y}%`);
          });
        };
        window.addEventListener('mousemove', handleMouseMove);
        return () => window.removeEventListener('mousemove', handleMouseMove);
      }, []);

      // Modal Component
      const Modal = ({ data, onClose }) => (
        <div className="modal-overlay fixed inset-0 bg-black/40 flex items-center justify-center z-50" onClick={onClose}>
          <div className="modal-content bg-white rounded-2xl p-6 max-w-3xl w-full mx-4 shadow-2xl max-h-[85vh] overflow-auto" onClick={e => e.stopPropagation()}>
            <div className="flex items-center justify-between mb-4">
              <h3 className="font-semibold text-stone-800">{data.title}</h3>
              <button onClick={onClose} className="text-stone-400 hover:text-stone-600 text-xl leading-none">Ã—</button>
            </div>
            {data.content}
          </div>
        </div>
      );

      // Sidebar with nested items
      const Sidebar = () => (
        <div className={`h-screen bg-gradient-to-b from-stone-50 to-orange-50/30 border-r border-stone-200/60 flex flex-col transition-all duration-300 ${sidebarCollapsed ? 'w-16' : 'w-56'}`}>
          <div className="p-4 border-b border-stone-200/40">
            <div className="flex items-center gap-3">
              <div className="w-9 h-9 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-lg shadow-orange-200/50 btn-hover cursor-pointer">
                <span className="text-white font-bold text-sm">DG</span>
              </div>
              {!sidebarCollapsed && (
                <div>
                  <h1 className="font-semibold text-stone-800 text-sm tracking-tight">DUGOU</h1>
                  <p className="text-[10px] text-stone-400">Model Centre v5.8</p>
                </div>
              )}
            </div>
          </div>

          <nav className="flex-1 p-3 space-y-1">
            {[
              { id: 'new', icon: 'â—ˆ', label: 'æ–°å»ºæŠ•èµ„', badge: null },
              { id: 'combo', icon: 'â–', label: 'æ™ºèƒ½ç»„åˆ', badge: null },
              { id: 'settle', icon: 'â—‰', label: 'å¾…ç»“ç®—', badge: '3', highlight: true },
              { id: 'dashboard', icon: 'â—', label: 'Dashboard', badge: null, children: [
                { id: 'analysis', icon: 'â—‡', label: 'æ·±åº¦åˆ†æ' }
              ]},
              { id: 'history', icon: 'â˜°', label: 'å†å²è®°å½•', badge: '93', children: [
                { id: 'teams', icon: 'âš‘', label: 'çƒé˜Ÿæ¡£æ¡ˆé¦†' }
              ]},
              { id: 'params', icon: 'âš™', label: 'å‚æ•°åå°', badge: null },
            ].map(item => (
              <div key={item.id}>
                <button
                  onClick={() => { setActivePage(item.id); setActiveSubPage(null); }}
                  className={`sidebar-item w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm transition-all duration-200 group
                    ${activePage === item.id && !activeSubPage ? 'bg-white shadow-sm shadow-stone-200/50 text-stone-800' : 'text-stone-500 hover:bg-white/60 hover:text-stone-700'}`}
                >
                  <span className={`text-base transition-colors ${activePage === item.id && !activeSubPage ? 'text-amber-500' : 'text-stone-400 group-hover:text-stone-500'}`}>{item.icon}</span>
                  {!sidebarCollapsed && (
                    <>
                      <span className="flex-1 text-left">{item.label}</span>
                      {item.badge && <span className={`text-xs ${item.highlight ? 'px-2 py-0.5 rounded-full bg-amber-100 text-amber-600 font-medium' : 'text-stone-400'}`}>{item.badge}</span>}
                    </>
                  )}
                </button>
                {item.children && !sidebarCollapsed && (
                  <div className="ml-6 mt-1 space-y-1">
                    {item.children.map(child => (
                      <button key={child.id} onClick={() => { setActivePage(item.id); setActiveSubPage(child.id); }}
                        className={`sidebar-item w-full flex items-center gap-2 px-3 py-2 rounded-lg text-xs transition-all duration-200 ${activeSubPage === child.id ? 'bg-amber-50 text-amber-700' : 'text-stone-400 hover:bg-white/60 hover:text-stone-600'}`}>
                        <span className="text-sm">{child.icon}</span>
                        <span>{child.label}</span>
                      </button>
                    ))}
                  </div>
                )}
              </div>
            ))}
          </nav>

          <div className="p-3 border-t border-stone-200/40 space-y-1">
            {!sidebarCollapsed && (
              <div className="relative">
                <button onClick={() => setShowDataMenu(!showDataMenu)} className="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-stone-500 hover:text-stone-700 hover:bg-white/60 transition-all text-sm">
                  <span className="text-stone-400">â‡„</span><span>æ•°æ®ç®¡ç†</span><span className="ml-auto text-xs">{showDataMenu ? 'â–²' : 'â–¼'}</span>
                </button>
                {showDataMenu && (
                  <div className="mt-1 space-y-1">
                    <button className="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-stone-500 hover:text-amber-600 hover:bg-amber-50 transition-all text-xs"><span>â†“</span> å¯¼å…¥ Excel</button>
                    <button className="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-stone-500 hover:text-amber-600 hover:bg-amber-50 transition-all text-xs"><span>â†‘</span> å¯¼å‡ºå¤‡ä»½</button>
                  </div>
                )}
              </div>
            )}
            <button onClick={() => setSidebarCollapsed(!sidebarCollapsed)} className="w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-stone-400 hover:text-stone-600 hover:bg-white/60 transition-all text-xs">
              {sidebarCollapsed ? 'â†’' : 'â† æ”¶èµ·'}
            </button>
          </div>
        </div>
      );

      // Dashboard with sub-tabs
      const DashboardPage = () => {
        const [chartType, setChartType] = useState('funds');
        const [showChartMenu, setShowChartMenu] = useState(false);
        const [timePeriod, setTimePeriod] = useState('2W');
        const [showTimePicker, setShowTimePicker] = useState(false);
        const chartLabels = { funds: 'èµ„é‡‘èµ°åŠ¿', conf: 'Conf ç›¸å…³æ€§', rating: 'Rating å‡†ç¡®åº¦' };

        const periodLabels = {
          '2W': { label: 'è¿‘ä¸¤å‘¨', investments: 12 },
          '1M': { label: 'æœ¬æœˆ', investments: 23 },
          '3M': { label: 'è¿‘ä¸‰æœˆ', investments: 68 },
          '1Y': { label: 'æœ¬å¹´åº¦', investments: 93 },
        };

        const openMetricDetail = (type) => {
          const contents = {
            balance: {
              title: 'è“„æ°´æ± ä½™é¢ Â· å†å²æ˜ç»†',
              content: (
                <div>
                  <table className="w-full text-sm mb-4">
                    <thead><tr className="border-b border-stone-200 text-left text-stone-500">
                      <th className="py-2 font-medium">æ—¥æœŸ</th><th className="py-2 font-medium">æ¯”èµ›</th><th className="py-2 font-medium">æ“ä½œå‰</th><th className="py-2 font-medium">ç›ˆäº</th><th className="py-2 font-medium">æ“ä½œå</th>
                    </tr></thead>
                    <tbody>
                      {[
                        { date: '02-02', match: 'é˜¿æ£®çº³ vs åˆ‡å°”è¥¿', before: 'Â¥2,667', change: '-', after: 'Â¥2,667' },
                        { date: '02-01', match: 'åˆ©ç‰©æµ¦ vs æ›¼åŸ', before: 'Â¥2,447', change: '+Â¥220', after: 'Â¥2,667' },
                        { date: '01-31', match: 'çƒ­åˆº vs æ›¼è”', before: 'Â¥2,597', change: '-Â¥150', after: 'Â¥2,447' },
                        { date: '01-30', match: 'çº½å¡æ–¯å°” vs é˜¿æ–¯é¡¿ç»´æ‹‰', before: 'Â¥2,357', change: '+Â¥240', after: 'Â¥2,597' },
                      ].map((r, i) => (
                        <tr key={i} className="border-b border-stone-100">
                          <td className="py-2 text-stone-600">{r.date}</td>
                          <td className="py-2 text-stone-700">{r.match}</td>
                          <td className="py-2 text-stone-600">{r.before}</td>
                          <td className={`py-2 font-medium ${r.change.includes('+') ? 'text-emerald-600' : r.change === '-' ? 'text-stone-400' : 'text-rose-500'}`}>{r.change}</td>
                          <td className="py-2 text-stone-800 font-medium">{r.after}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                  <div className="flex justify-center gap-2">
                    <button className="px-3 py-1 text-xs bg-amber-100 text-amber-700 rounded">1</button>
                    <button className="px-3 py-1 text-xs text-stone-400 hover:bg-stone-100 rounded">2</button>
                    <button className="px-3 py-1 text-xs text-stone-400 hover:bg-stone-100 rounded">3</button>
                    <span className="px-2 text-stone-300">...</span>
                    <button className="px-3 py-1 text-xs text-stone-400 hover:bg-stone-100 rounded">12</button>
                  </div>
                </div>
              )
            },
            roi: {
              title: 'è¿‘ä¸¤å‘¨ ROI Â· è¯¦ç»†åˆ†è§£',
              content: (
                <div className="space-y-4">
                  <div className="grid grid-cols-3 gap-4 text-center">
                    <div className="p-3 bg-stone-50 rounded-xl"><span className="text-xs text-stone-400 block">æ€»æŠ•èµ„</span><span className="text-lg font-semibold">Â¥1,850</span></div>
                    <div className="p-3 bg-emerald-50 rounded-xl"><span className="text-xs text-stone-400 block">æ€»æ”¶ç›Š</span><span className="text-lg font-semibold text-emerald-600">Â¥2,080</span></div>
                    <div className="p-3 bg-amber-50 rounded-xl"><span className="text-xs text-stone-400 block">ROI</span><span className="text-lg font-semibold text-amber-600">+12.4%</span></div>
                  </div>
                  <div className="border-t border-stone-100 pt-4">
                    <h4 className="text-sm font-medium text-stone-700 mb-3">è¿‘æœŸæŠ•èµ„æ˜ç»†</h4>
                    <div className="space-y-2">
                      {[
                        { match: 'åˆ©ç‰©æµ¦ vs æ›¼åŸ', entry: 'å¤§2.5', result: 'âœ“', roi: '+85%' },
                        { match: 'çƒ­åˆº vs æ›¼è”', entry: 'å¹³å±€', result: 'âœ—', roi: '-100%' },
                        { match: 'çº½å¡ vs ç»´æ‹‰', entry: 'å®¢èƒœ', result: 'âœ“', roi: '+160%' },
                      ].map((r, i) => (
                        <div key={i} className="flex items-center justify-between p-2 bg-stone-50 rounded-lg">
                          <div className="flex items-center gap-3">
                            <span className={`w-5 h-5 rounded-full flex items-center justify-center text-xs ${r.result === 'âœ“' ? 'bg-emerald-100 text-emerald-600' : 'bg-rose-100 text-rose-500'}`}>{r.result}</span>
                            <div><p className="text-sm text-stone-700">{r.match}</p><p className="text-xs text-stone-400">{r.entry}</p></div>
                          </div>
                          <span className={`text-sm font-medium ${r.roi.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{r.roi}</span>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              )
            },
            rating: {
              title: 'Exp. vs Act. Judgmental Rating',
              content: (
                <table className="w-full text-sm">
                  <thead><tr className="border-b border-stone-200 text-left text-stone-500">
                    <th className="py-2 font-medium">æ—¥æœŸ</th><th className="py-2 font-medium">æ¯”èµ›</th><th className="py-2 font-medium">Exp.</th><th className="py-2 font-medium">Act.</th><th className="py-2 font-medium">åå·®</th>
                  </tr></thead>
                  <tbody>
                    {[
                      { date: '02-01', match: 'åˆ©ç‰©æµ¦ vs æ›¼åŸ', exp: '0.72', act: '0.75', diff: '+0.03' },
                      { date: '01-31', match: 'çƒ­åˆº vs æ›¼è”', exp: '0.42', act: '0.38', diff: '-0.04' },
                      { date: '01-30', match: 'çº½å¡ vs ç»´æ‹‰', exp: '0.55', act: '0.62', diff: '+0.07' },
                    ].map((r, i) => (
                      <tr key={i} className="border-b border-stone-100">
                        <td className="py-2 text-stone-600">{r.date}</td>
                        <td className="py-2 text-stone-700">{r.match}</td>
                        <td className="py-2 text-stone-600">{r.exp}</td>
                        <td className="py-2 text-stone-600">{r.act}</td>
                        <td className={`py-2 font-medium ${r.diff.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{r.diff}</td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              )
            },
            hitrate: {
              title: 'å‘½ä¸­ç‡ Â· åˆ†ç»´åº¦ç»Ÿè®¡',
              content: (
                <div className="space-y-3">
                  {[
                    { label: 'æ€»ä½“', value: '67.3%', samples: 93 },
                    { label: 'å•å…³', value: '71.2%', samples: 52 },
                    { label: 'Conf â‰¥ 0.4', value: '72.8%', samples: 68 },
                    { label: 'Conf â‰¥ 0.6', value: '78.4%', samples: 37 },
                  ].map((r, i) => (
                    <div key={i} className="flex items-center justify-between p-3 bg-stone-50 rounded-xl">
                      <span className="text-stone-700">{r.label}</span>
                      <div className="flex items-center gap-4">
                        <span className="text-xs text-stone-400">{r.samples} samples</span>
                        <span className="font-semibold text-stone-800">{r.value}</span>
                      </div>
                    </div>
                  ))}
                </div>
              )
            },
            noise: {
              title: 'å™ªéŸ³è¿‡æ»¤ Â· è¯¦ç»†åˆ†æ',
              content: (
                <div className="space-y-4">
                  <p className="text-sm text-stone-500">é€šè¿‡ REP æ–¹å‘æ€§åŠ æƒï¼Œè¿‡æ»¤è¿æ°”æˆåˆ†ï¼Œè¿˜åŸçœŸå®åˆ¤æ–­èƒ½åŠ›</p>
                  <div className="grid grid-cols-3 gap-4 text-center">
                    <div className="p-4 bg-stone-50 rounded-xl"><span className="text-xs text-stone-400 block">åŸå§‹ ROI</span><span className="text-xl font-semibold text-stone-700">+12.4%</span></div>
                    <div className="p-4 bg-emerald-50 rounded-xl"><span className="text-xs text-stone-400 block">è¿‡æ»¤å ROI</span><span className="text-xl font-semibold text-emerald-600">+15.8%</span></div>
                    <div className="p-4 bg-rose-50 rounded-xl"><span className="text-xs text-stone-400 block">è¿æ°”æˆåˆ†</span><span className="text-xl font-semibold text-rose-500">-3.4%</span></div>
                  </div>
                  <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                    <p className="text-sm text-amber-700">âœ“ ä½ çš„å®é™…åˆ¤æ–­èƒ½åŠ›ä¼˜äºè´¦é¢è¡¨ç°ï¼Œè¿‘æœŸè¿æ°”ç•¥å·®ä½†åŸºæœ¬åŠŸæ‰å®</p>
                  </div>
                  <div className="border-t border-stone-100 pt-4">
                    <h4 className="text-sm font-medium text-stone-700 mb-3">è¿æ°”æˆåˆ†æ‹†è§£</h4>
                    <div className="space-y-2 text-sm">
                      <div className="flex justify-between"><span className="text-stone-500">æ­£ç¡®é¢„æµ‹ä½†æœªä¸­ï¼ˆREPé«˜ï¼‰</span><span className="text-rose-500">-5.2%</span></div>
                      <div className="flex justify-between"><span className="text-stone-500">é”™è¯¯é¢„æµ‹ä½†å‘½ä¸­ï¼ˆREPä½ï¼‰</span><span className="text-emerald-600">+1.8%</span></div>
                    </div>
                  </div>
                </div>
              )
            },
            conf: {
              title: 'Conf æ ¡å‡†æ›²çº¿ Â· è¯¦ç»†æ•°æ®',
              content: (
                <div className="space-y-4">
                  <p className="text-sm text-stone-500">ä¸»è§‚ç½®ä¿¡åº¦ä¸å®é™…å‘½ä¸­ç‡çš„å»åˆç¨‹åº¦åˆ†æ</p>
                  <table className="w-full text-sm">
                    <thead><tr className="border-b border-stone-200 text-left text-stone-500">
                      <th className="py-2 font-medium">Conf åŒºé—´</th><th className="py-2 font-medium">é¢„æœŸ</th><th className="py-2 font-medium">å®é™…</th><th className="py-2 font-medium">åå·®</th><th className="py-2 font-medium">æ ·æœ¬</th>
                    </tr></thead>
                    <tbody>
                      {[
                        { conf: '0.8+', exp: '0.80', act: '0.76', diff: '-0.04', samples: 8 },
                        { conf: '0.7~0.8', exp: '0.75', act: '0.72', diff: '-0.03', samples: 15 },
                        { conf: '0.6~0.7', exp: '0.65', act: '0.67', diff: '+0.02', samples: 22 },
                        { conf: '0.5~0.6', exp: '0.55', act: '0.52', diff: '-0.03', samples: 28 },
                        { conf: '0.4~0.5', exp: '0.45', act: '0.48', diff: '+0.03', samples: 15 },
                        { conf: '<0.4', exp: '0.30', act: '0.34', diff: '+0.04', samples: 5 },
                      ].map((r, i) => (
                        <tr key={i} className="border-b border-stone-100">
                          <td className="py-2 font-medium text-stone-700">{r.conf}</td>
                          <td className="py-2 text-stone-600">{r.exp}</td>
                          <td className="py-2 text-stone-600">{r.act}</td>
                          <td className={`py-2 font-medium ${r.diff.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{r.diff}</td>
                          <td className="py-2 text-stone-400">{r.samples}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              )
            },
            advantage: {
              title: 'ä¼˜åŠ¿é¢†åŸŸè¯†åˆ« Â· å†å²è¡¨ç°',
              content: (
                <div className="space-y-4">
                  {[
                    { combo: 'Conf 0.6+ Ã— å¸¸è§„æ¨¡å¼ Ã— è‹±è¶…', roi: '+23.4%', matches: [
                      { match: 'é˜¿æ£®çº³ vs åˆ‡å°”è¥¿', result: 'âœ“', pnl: '+Â¥185' },
                      { match: 'åˆ©ç‰©æµ¦ vs æ›¼åŸ', result: 'âœ“', pnl: '+Â¥220' },
                    ]},
                    { combo: 'TYS-M Ã— FID 0.5+ Ã— å•å…³', roi: '+18.7%', matches: [
                      { match: 'çº½å¡æ–¯å°” vs ç»´æ‹‰', result: 'âœ“', pnl: '+Â¥240' },
                    ]},
                  ].map((item, i) => (
                    <div key={i} className="p-4 bg-stone-50 rounded-xl">
                      <div className="flex items-center justify-between mb-3">
                        <span className="font-medium text-stone-700">{item.combo}</span>
                        <span className="text-emerald-600 font-semibold">{item.roi}</span>
                      </div>
                      <div className="space-y-1">
                        {item.matches.map((m, j) => (
                          <div key={j} className="flex items-center justify-between text-sm p-2 bg-white rounded">
                            <div className="flex items-center gap-2">
                              <span className={`text-xs ${m.result === 'âœ“' ? 'text-emerald-600' : 'text-rose-500'}`}>{m.result}</span>
                              <span className="text-stone-600">{m.match}</span>
                            </div>
                            <span className={m.pnl.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}>{m.pnl}</span>
                          </div>
                        ))}
                      </div>
                    </div>
                  ))}
                </div>
              )
            }
          };
          setModalData(contents[type]);
        };

        return (
          <div className="p-8 space-y-5">
            {/* Compact Smart Alert */}
            <div className="bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl px-4 py-2.5 border border-amber-200 flex items-center gap-3">
              <div className="w-7 h-7 rounded-lg bg-amber-100 flex items-center justify-center flex-shrink-0">
                <span className="text-amber-600 text-sm">âš¡</span>
              </div>
              <div className="flex-1 flex items-center gap-2">
                <span className="text-xs font-medium text-stone-700">æ™ºèƒ½æé†’</span>
                <span className="px-1.5 py-0.5 bg-amber-200 text-amber-700 rounded text-[10px]">è¿ç»­æ€§è¯†åˆ«</span>
                <span className="text-xs text-stone-600">è¿‘5åœº<span className="text-emerald-600 font-medium">è¿ç»­å‘½ä¸­</span>ï¼Œå»ºè®®é€‚åº¦å¢åŠ ä»“ä½</span>
              </div>
              <button className="text-[10px] text-stone-400 hover:text-stone-600">å¿½ç•¥</button>
            </div>

            {/* Header with Time Picker */}
            <div className="flex items-center justify-between">
              <div>
                <h2 className="text-2xl font-semibold text-stone-800 font-display">Dashboard</h2>
                <div className="flex items-center gap-2 mt-1">
                  <div className="relative">
                    <button onClick={() => setShowTimePicker(!showTimePicker)} className="text-stone-500 text-sm hover:text-amber-600 flex items-center gap-1">
                      {periodLabels[timePeriod].label} <span className="text-xs">â–¼</span>
                    </button>
                    {showTimePicker && (
                      <div className="absolute top-full left-0 mt-1 bg-white rounded-lg shadow-lg border border-stone-200 py-1 z-10">
                        {Object.entries(periodLabels).map(([key, val]) => (
                          <button key={key} onClick={() => { setTimePeriod(key); setShowTimePicker(false); }}
                            className={`block w-full px-4 py-1.5 text-left text-sm ${timePeriod === key ? 'bg-amber-50 text-amber-700' : 'text-stone-600 hover:bg-stone-50'}`}>
                            {val.label}
                          </button>
                        ))}
                      </div>
                    )}
                  </div>
                  <span className="text-stone-400 text-sm">Â· æŠ•èµ„ {periodLabels[timePeriod].investments} ç¬”</span>
                </div>
              </div>
              <div className="flex items-center gap-3">
                <button className="px-4 py-2 text-sm text-stone-600 hover:text-stone-800 btn-hover">å¯¼å‡ºæŠ¥å‘Š</button>
                <button onClick={() => setActivePage('new')} className="px-5 py-2.5 bg-gradient-to-r from-amber-400 to-orange-400 text-white rounded-xl text-sm font-medium shadow-lg shadow-orange-200/40 btn-hover">+ æ–°å»ºæŠ•èµ„</button>
              </div>
            </div>

            {/* Metrics Row with Momentum */}
            <div className="grid grid-cols-5 gap-4">
              {/* Momentum */}
              <div className="glow-card bg-gradient-to-br from-emerald-50 to-teal-50 rounded-2xl p-4 border border-emerald-200 cursor-pointer">
                <div className="relative z-10">
                  <div className="flex items-center justify-between mb-1">
                    <span className="text-emerald-600 text-xs font-medium">åŠ¨é‡çŠ¶æ€</span>
                    <div className="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></div>
                  </div>
                  <div className="text-xl font-bold text-emerald-600">â†‘ ä¸Šå‡æœŸ</div>
                  <p className="text-[10px] text-stone-500">è¿‘6åœºROI +18%</p>
                  <p className="text-[10px] text-emerald-600 mt-1">å»ºè®®ä»“ä½ Ã—1.15</p>
                </div>
              </div>

              {/* Balance */}
              <div onClick={() => openMetricDetail('balance')} className="glow-card bg-white rounded-2xl p-4 border border-stone-100 cursor-pointer">
                <div className="relative z-10">
                  <div className="flex items-center justify-between mb-2">
                    <span className="text-stone-400 text-xs">è“„æ°´æ± ä½™é¢</span>
                    <span className="text-amber-400">â—</span>
                  </div>
                  <div className="text-xl font-semibold text-stone-800">Â¥2,847</div>
                  <div className="text-xs text-emerald-500">+18.2%</div>
                </div>
              </div>

              {/* ROI */}
              <div onClick={() => openMetricDetail('roi')} className="glow-card bg-white rounded-2xl p-4 border border-stone-100 cursor-pointer">
                <div className="relative z-10">
                  <div className="flex items-center justify-between mb-2">
                    <span className="text-stone-400 text-xs">{periodLabels[timePeriod].label} ROI</span>
                    <span className="text-amber-400">â—ˆ</span>
                  </div>
                  <div className="text-xl font-semibold text-stone-800">+12.4%</div>
                  <div className="text-xs text-emerald-500">â†‘ 3.1%</div>
                </div>
              </div>

              {/* Exp vs Act Rating - moved here */}
              <div onClick={() => openMetricDetail('rating')} className="glow-card bg-white rounded-2xl p-4 border border-stone-100 cursor-pointer">
                <div className="relative z-10">
                  <div className="flex items-center justify-between mb-2">
                    <span className="text-stone-400 text-xs">Exp. vs Act. Rating</span>
                    <span className="text-amber-400">â–</span>
                  </div>
                  <div className="text-xl font-semibold text-stone-800">0.92</div>
                  <div className="text-xs text-emerald-500">æ ¡å‡†è‰¯å¥½</div>
                </div>
              </div>

              {/* Hit Rate - moved here */}
              <div onClick={() => openMetricDetail('hitrate')} className="glow-card bg-white rounded-2xl p-4 border border-stone-100 cursor-pointer">
                <div className="relative z-10">
                  <div className="flex items-center justify-between mb-2">
                    <span className="text-stone-400 text-xs">å‘½ä¸­ç‡</span>
                    <span className="text-amber-400">â—‰</span>
                  </div>
                  <div className="text-xl font-semibold text-stone-800">67.3%</div>
                  <div className="text-xs text-stone-400">Confâ‰¥0.4: <span className="text-emerald-500">52/68</span></div>
                </div>
              </div>
            </div>

            {/* Middle Row */}
            <div className="grid grid-cols-4 gap-4">
              {/* Noise Filter */}
              <div onClick={() => openMetricDetail('noise')} className="glow-card bg-white rounded-2xl p-4 border border-stone-100 cursor-pointer">
                <div className="relative z-10">
                  <div className="flex items-center gap-2 mb-2">
                    <span className="text-stone-700 font-medium text-sm">å™ªéŸ³è¿‡æ»¤</span>
                    <span className="text-[10px] text-amber-600 px-1.5 py-0.5 bg-amber-50 rounded">Beta</span>
                  </div>
                  <p className="text-[10px] text-stone-400 mb-2">REPæ–¹å‘æ€§åŠ æƒ</p>
                  <div className="space-y-1 text-sm">
                    <div className="flex justify-between"><span className="text-stone-500">åŸå§‹</span><span className="text-stone-700">+12.4%</span></div>
                    <div className="flex justify-between"><span className="text-stone-500">è¿‡æ»¤å</span><span className="text-emerald-600 font-medium">+15.8%</span></div>
                  </div>
                  <p className="text-[10px] text-emerald-600 mt-2">âœ“ åˆ¤æ–­åŠ›ä¼˜äºè´¦é¢</p>
                </div>
              </div>

              {/* Main Chart */}
              <div className="col-span-2 glow-card bg-white rounded-2xl p-5 border border-stone-100">
                <div className="relative z-10">
                  <div className="flex items-center justify-between mb-4">
                    <div className="relative">
                      <button onClick={() => setShowChartMenu(!showChartMenu)} className="flex items-center gap-2 text-sm font-medium text-stone-700 hover:text-amber-600">
                        {chartLabels[chartType]} <span className="text-xs text-stone-400">â–¼</span>
                      </button>
                      {showChartMenu && (
                        <div className="absolute top-full left-0 mt-1 bg-white rounded-lg shadow-lg border border-stone-200 py-1 z-10">
                          {Object.entries(chartLabels).map(([key, label]) => (
                            <button key={key} onClick={() => { setChartType(key); setShowChartMenu(false); }}
                              className={`block w-full px-4 py-1.5 text-left text-sm ${chartType === key ? 'bg-amber-50 text-amber-700' : 'text-stone-600 hover:bg-stone-50'}`}>
                              {label}
                            </button>
                          ))}
                        </div>
                      )}
                    </div>
                    <div className="flex gap-1">
                      {['7D', '2W', '1M', 'ALL'].map(p => (
                        <button key={p} className={`px-2.5 py-1 text-xs rounded-lg btn-hover ${p === '2W' ? 'bg-amber-100 text-amber-700' : 'text-stone-400 hover:bg-stone-50'}`}>{p}</button>
                      ))}
                    </div>
                  </div>
                  <div className="h-36 flex items-end gap-1 px-2">
                    {[40, 45, 42, 55, 48, 62, 58, 70, 65, 75, 72, 85, 80, 88, 92].map((h, i) => (
                      <div key={i} className="flex-1"><div className="chart-bar w-full rounded-t-sm bg-gradient-to-t from-amber-400 to-orange-300 opacity-80 hover:opacity-100 cursor-pointer origin-bottom" style={{ height: `${h}%` }} /></div>
                    ))}
                  </div>
                </div>
              </div>

              {/* Conf Calibration */}
              <div onClick={() => openMetricDetail('conf')} className="glow-card bg-white rounded-2xl p-4 border border-stone-100 cursor-pointer">
                <div className="relative z-10">
                  <h3 className="font-medium text-stone-700 text-sm mb-1">Conf æ ¡å‡†æ›²çº¿</h3>
                  <p className="text-[10px] text-stone-400 mb-2">ä¸»è§‚ç½®ä¿¡åº¦ vs å®é™…å‘½ä¸­ç‡</p>
                  <div className="space-y-1.5">
                    {[
                      { conf: '0.8+', actual: '0.76' },
                      { conf: '0.7~0.8', actual: '0.72' },
                      { conf: '0.6~0.7', actual: '0.67' },
                      { conf: '0.5~0.6', actual: '0.52' },
                      { conf: '0.4~0.5', actual: '0.48' },
                    ].map((r, i) => (
                      <div key={i} className="flex items-center gap-1.5">
                        <span className="text-[10px] text-stone-500 w-12">{r.conf}</span>
                        <div className="flex-1 h-1.5 bg-stone-100 rounded-full overflow-hidden">
                          <div className="h-full bg-gradient-to-r from-amber-300 to-orange-400 rounded-full" style={{ width: `${parseFloat(r.actual) * 100}%` }} />
                        </div>
                        <span className="text-[10px] text-stone-600 w-6">{r.actual}</span>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>

            {/* Bottom Row */}
            <div className="grid grid-cols-2 gap-4">
              <div onClick={() => openMetricDetail('advantage')} className="glow-card bg-white rounded-2xl p-5 border border-stone-100 cursor-pointer">
                <div className="relative z-10">
                  <h3 className="font-medium text-stone-700 mb-1">ä¼˜åŠ¿é¢†åŸŸè¯†åˆ«</h3>
                  <p className="text-[10px] text-stone-400 mb-3">å¤šç»´åº¦åˆ‡ç‰‡ï¼Œå‘ç°æ­£ROIç»„åˆ</p>
                  <div className="space-y-2">
                    {[
                      { combo: 'Conf 0.6+ Ã— å¸¸è§„æ¨¡å¼ Ã— è‹±è¶…', roi: '+23.4%', samples: 18 },
                      { combo: 'TYS-M Ã— FID 0.5+ Ã— å•å…³', roi: '+18.7%', samples: 24 },
                    ].map((item, i) => (
                      <div key={i} className="flex items-center justify-between p-3 rounded-xl bg-stone-50 hover:bg-amber-50 transition-all lift-card">
                        <div><p className="text-sm text-stone-700">{item.combo}</p><p className="text-xs text-stone-400">{item.samples} samples</p></div>
                        <span className="text-sm font-medium text-emerald-600">{item.roi}</span>
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              <div className="glow-card bg-white rounded-2xl p-5 border border-stone-100">
                <div className="relative z-10">
                  <div className="flex items-center justify-between mb-3">
                    <h3 className="font-medium text-stone-700">è¿‘æœŸæŠ•èµ„</h3>
                    <button onClick={() => setActivePage('history')} className="text-xs text-amber-500 hover:text-amber-600">æŸ¥çœ‹å…¨éƒ¨ â†’</button>
                  </div>
                  <div className="space-y-2">
                    {[
                      { match: 'é˜¿æ£®çº³ vs åˆ‡å°”è¥¿', entries: 'ä¸»èƒœ', status: 'pending', amount: 'Â¥180' },
                      { match: 'åˆ©ç‰©æµ¦ vs æ›¼åŸ', entries: 'å¤§2.5', status: 'win', amount: '+Â¥220' },
                      { match: 'çƒ­åˆº vs æ›¼è”', entries: 'å¹³å±€', status: 'lose', amount: '-Â¥150' },
                    ].map((item, i) => (
                      <div key={i} className="flex items-center justify-between p-3 rounded-xl hover:bg-stone-50 transition-all cursor-pointer lift-card">
                        <div className="flex items-center gap-3">
                          <div className={`w-2 h-2 rounded-full ${item.status === 'pending' ? 'bg-amber-400' : item.status === 'win' ? 'bg-emerald-400' : 'bg-rose-400'}`} />
                          <div><p className="text-sm text-stone-700">{item.match}</p><p className="text-xs text-stone-400">{item.entries}</p></div>
                        </div>
                        <span className={`text-sm font-medium ${item.status === 'win' ? 'text-emerald-600' : item.status === 'lose' ? 'text-rose-500' : 'text-stone-600'}`}>{item.amount}</span>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>

            {modalData && <Modal data={modalData} onClose={() => setModalData(null)} />}
          </div>
        );
      };

      // Deep Analysis Page
      const AnalysisPage = () => {
        const [analysisTab, setAnalysisTab] = useState('parlay');
        
        return (
          <div className="p-8">
            <div className="mb-6">
              <h2 className="text-2xl font-semibold text-stone-800 font-display">æ·±åº¦åˆ†æ</h2>
              <p className="text-stone-400 text-sm mt-1">å¤šç»´åº¦å†å²è¡¨ç°åˆ†æä¸ç­–ç•¥ä¼˜åŒ–</p>
            </div>

            <div className="flex gap-2 mb-6">
              {[
                { id: 'parlay', label: 'ä¸²å…³ç»„åˆåˆ†æ' },
                { id: 'league', label: 'è”èµ›åˆ†æ' },
                { id: 'mode', label: 'Mode è¡¨ç°åˆ†æ' },
                { id: 'conf', label: 'Conf åŒºé—´åˆ†æ' },
                { id: 'time', label: 'æ—¶é—´è¿‘å› æƒé‡' },
              ].map(tab => (
                <button key={tab.id} onClick={() => setAnalysisTab(tab.id)}
                  className={`px-4 py-2 rounded-xl text-sm transition-all btn-hover ${analysisTab === tab.id ? 'bg-amber-100 text-amber-700 font-medium' : 'bg-stone-100 text-stone-500 hover:bg-stone-200'}`}>
                  {tab.label}
                </button>
              ))}
            </div>

            {analysisTab === 'parlay' && (
              <div className="grid grid-cols-2 gap-6">
                <div className="glow-card bg-white rounded-2xl p-6 border border-stone-100">
                  <div className="relative z-10">
                    <h3 className="font-medium text-stone-700 mb-4">ä¸åŒå…³æ•°ç»„åˆè¡¨ç°</h3>
                    <div className="space-y-3">
                      {[
                        { parlay: 'å•å…³', samples: 52, roi: '+15.2%', hitrate: '71%', partial: null, best: true },
                        { parlay: '2å…³ç»„åˆ', samples: 28, roi: '+8.4%', hitrate: '54%', partial: '2å¯¹1: 18/28', best: false },
                        { parlay: '3å…³ç»„åˆ', samples: 10, roi: '-12.3%', hitrate: '30%', partial: '3å¯¹2: 6/10', best: false },
                        { parlay: '4å…³ç»„åˆ', samples: 3, roi: '-45.0%', hitrate: '0%', partial: '4å¯¹3: 2/3', best: false },
                      ].map((item, i) => (
                        <div key={i} className={`p-4 rounded-xl border ${item.best ? 'border-emerald-200 bg-emerald-50/50' : 'border-stone-100 bg-stone-50'}`}>
                          <div className="flex items-center justify-between">
                            <div className="flex items-center gap-3">
                              <span className="font-medium text-stone-700">{item.parlay}</span>
                              {item.best && <span className="text-[10px] px-2 py-0.5 bg-emerald-200 text-emerald-700 rounded-full">æœ€ä¼˜</span>}
                              {item.partial && <span className="text-[10px] text-stone-400 bg-stone-100 px-2 py-0.5 rounded">{item.partial}</span>}
                            </div>
                            <span className={`font-semibold ${item.roi.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{item.roi}</span>
                          </div>
                          <div className="flex gap-4 mt-2 text-xs text-stone-500">
                            <span>{item.samples} æ ·æœ¬</span>
                            <span>å‘½ä¸­ç‡ {item.hitrate}</span>
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
                <div className="glow-card bg-white rounded-2xl p-6 border border-stone-100">
                  <div className="relative z-10">
                    <h3 className="font-medium text-stone-700 mb-4">æœ€ä¼˜ç»„åˆå‘ç°</h3>
                    <div className="space-y-3">
                      {[
                        { combo: 'å•å…³ + å¸¸è§„æ¨¡å¼ + Conf 0.6+', roi: '+28.4%', samples: 24 },
                        { combo: 'å•å…³ + ä¿é™©äº§å“ + Conf 0.7+', roi: '+22.1%', samples: 12 },
                        { combo: '2å…³ç»„åˆ + å¸¸è§„-ç¨³ + Conf 0.5+', roi: '+12.8%', samples: 15 },
                      ].map((item, i) => (
                        <div key={i} className="p-4 rounded-xl bg-stone-50 hover:bg-amber-50 transition-all cursor-pointer lift-card">
                          <div className="flex items-center justify-between mb-1">
                            <span className="text-sm font-medium text-stone-700">{item.combo}</span>
                            <span className="font-semibold text-emerald-600">{item.roi}</span>
                          </div>
                          <span className="text-xs text-stone-400">{item.samples} æ ·æœ¬</span>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            )}

            {analysisTab === 'league' && (
              <div className="glow-card bg-white rounded-2xl p-6 border border-stone-100">
                <div className="relative z-10">
                  <h3 className="font-medium text-stone-700 mb-4">è”èµ›è¡¨ç°å¯¹æ¯”</h3>
                  <div className="space-y-3">
                    {[
                      { league: 'è‹±è¶…', samples: 58, roi: '+11.2%', hitRate: '68.9%', avgOdds: '2.12' },
                      { league: 'è¥¿ç”²', samples: 20, roi: '+8.5%', hitRate: '65.0%', avgOdds: '2.28' },
                      { league: 'å¾·ç”²', samples: 15, roi: '+5.3%', hitRate: '60.0%', avgOdds: '2.35' },
                    ].map((item, i) => (
                      <div key={i} className="flex items-center justify-between p-4 bg-stone-50 rounded-xl hover:bg-amber-50 transition-all lift-card">
                        <div className="flex items-center gap-4">
                          <span className="font-medium text-stone-700 w-16">{item.league}</span>
                          <span className="text-xs text-stone-400">{item.samples} æ ·æœ¬</span>
                        </div>
                        <div className="flex items-center gap-6">
                          <span className={`font-semibold ${item.roi.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{item.roi}</span>
                          <span className="text-sm text-stone-600">å‘½ä¸­ç‡ {item.hitRate}</span>
                          <span className="text-sm text-stone-600">å¹³å‡èµ”ç‡ {item.avgOdds}</span>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            )}

            {analysisTab === 'mode' && (
              <div className="glow-card bg-white rounded-2xl p-6 border border-stone-100">
                <div className="relative z-10">
                  <h3 className="font-medium text-stone-700 mb-4">å„ Mode å†å²è¡¨ç°</h3>
                  <table className="w-full text-sm">
                    <thead><tr className="border-b border-stone-200 text-left text-stone-500">
                      <th className="py-2 font-medium">Mode</th>
                      <th className="py-2 font-medium">æ ·æœ¬æ•°</th>
                      <th className="py-2 font-medium">ROI</th>
                      <th className="py-2 font-medium">å‘½ä¸­ç‡</th>
                      <th className="py-2 font-medium">Avg (Act-Conf)</th>
                      <th className="py-2 font-medium">å¹³å‡ Odds</th>
                      <th className="py-2 font-medium">å»ºè®® Kelly</th>
                    </tr></thead>
                    <tbody>
                      {[
                        { mode: 'å¸¸è§„', samples: 45, roi: '+12.4%', hit: '68%', ratingDiff: '+0.03', odds: '2.1', kelly: '4.0' },
                        { mode: 'å¸¸è§„-ç¨³', samples: 18, roi: '+8.2%', hit: '75%', ratingDiff: '+0.05', odds: '1.7', kelly: '3.5' },
                        { mode: 'ä¿é™©äº§å“', samples: 15, roi: '+18.5%', hit: '82%', ratingDiff: '+0.08', odds: '1.5', kelly: '3.0' },
                        { mode: 'åŠå½©ç¥¨åŠä¿é™©', samples: 10, roi: '-5.2%', hit: '45%', ratingDiff: '-0.12', odds: '2.8', kelly: '5.0' },
                        { mode: 'èµŒä¸€æŠŠ', samples: 5, roi: '-32.0%', hit: '20%', ratingDiff: '-0.25', odds: '4.2', kelly: '6.0' },
                      ].map((r, i) => (
                        <tr key={i} className="border-b border-stone-100">
                          <td className="py-3 font-medium text-stone-700">{r.mode}</td>
                          <td className="py-3 text-stone-600">{r.samples}</td>
                          <td className={`py-3 font-medium ${r.roi.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{r.roi}</td>
                          <td className="py-3 text-stone-600">{r.hit}</td>
                          <td className={`py-3 font-medium ${r.ratingDiff.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{r.ratingDiff}</td>
                          <td className="py-3 text-stone-600">{r.odds}</td>
                          <td className="py-3 text-amber-600 font-medium">{r.kelly}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                  <p className="text-xs text-stone-400 mt-4">ğŸ’¡ æ­¤è¡¨ Kelly å»ºè®®å·²åŒæ­¥è‡³å‚æ•°åå°</p>
                </div>
              </div>
            )}

            {analysisTab === 'conf' && (
              <div className="glow-card bg-white rounded-2xl p-6 border border-stone-100">
                <div className="relative z-10">
                  <h3 className="font-medium text-stone-700 mb-4">Conf åŒºé—´åˆ†æ</h3>
                  <div className="grid grid-cols-5 gap-4">
                    {[
                      { range: '0.8+', expected: '0.80', actual: '0.76', diff: '-0.04', samples: 8 },
                      { range: '0.7~0.8', expected: '0.75', actual: '0.72', diff: '-0.03', samples: 15 },
                      { range: '0.6~0.7', expected: '0.65', actual: '0.67', diff: '+0.02', samples: 22 },
                      { range: '0.5~0.6', expected: '0.55', actual: '0.52', diff: '-0.03', samples: 28 },
                      { range: '0.4~0.5', expected: '0.45', actual: '0.48', diff: '+0.03', samples: 15 },
                    ].map((item, i) => (
                      <div key={i} className="p-4 rounded-xl bg-stone-50 text-center">
                        <span className="text-lg font-semibold text-stone-700">{item.range}</span>
                        <div className="mt-3 space-y-1 text-sm">
                          <div className="flex justify-between"><span className="text-stone-400">é¢„æœŸ</span><span>{item.expected}</span></div>
                          <div className="flex justify-between"><span className="text-stone-400">å®é™…</span><span>{item.actual}</span></div>
                          <div className="flex justify-between"><span className="text-stone-400">åå·®</span><span className={item.diff.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}>{item.diff}</span></div>
                        </div>
                        <p className="text-xs text-stone-400 mt-2">{item.samples} æ ·æœ¬</p>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            )}

            {analysisTab === 'time' && (
              <div className="glow-card bg-white rounded-2xl p-6 border border-stone-100">
                <div className="relative z-10">
                  <div className="flex items-center gap-2 mb-4">
                    <h3 className="font-medium text-stone-700">æ—¶é—´è¿‘å› æœºåˆ¶</h3>
                    <span className="text-[10px] px-2 py-0.5 bg-stone-100 text-stone-500 rounded">S10</span>
                  </div>
                  <p className="text-sm text-stone-500 mb-6">Confã€FSE ç­‰å‚æ•°åº”ç”¨æ—¶é—´è¡°å‡æƒé‡ï¼Œè¿‘æœŸè¡¨ç°å½±å“æ›´å¤§</p>
                  <div className="grid grid-cols-3 gap-6">
                    {[
                      { period: 'æœ€è¿‘ 6 åœº', weight: '1.4Ã—', color: 'amber' },
                      { period: 'ç¬¬ 7~11 åœº', weight: '1.15Ã—', color: 'stone' },
                      { period: 'ç¬¬ 12+ åœº', weight: '1.0Ã—', color: 'stone' },
                    ].map((item, i) => (
                      <div key={i} className={`p-6 rounded-xl text-center ${item.color === 'amber' ? 'bg-amber-50 border border-amber-200' : 'bg-stone-50'}`}>
                        <span className={`text-3xl font-bold ${item.color === 'amber' ? 'text-amber-600' : 'text-stone-400'}`}>{item.weight}</span>
                        <p className="text-sm text-stone-600 mt-2">{item.period}</p>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            )}
          </div>
        );
      };

      // New Investment - Updated with multi-entry support
      const NewInvestmentPage = () => {
        const [parlaySize, setParlaySize] = useState(1);
        const [matches, setMatches] = useState([{
          homeTeam: '', awayTeam: '',
          entries: [{ name: '', odds: '' }],
          conf: 65, mode: 'å¸¸è§„',
          tys_home: 'M', tys_away: 'L', fid: '0.5',
          fse_home: 70, fse_away: 55,
          note: ''
        }]);

        const handleParlayChange = (size) => {
          setParlaySize(size);
          const newMatches = [...matches];
          while (newMatches.length < size) {
            newMatches.push({
              homeTeam: '', awayTeam: '',
              entries: [{ name: '', odds: '' }],
              conf: 50, mode: 'å¸¸è§„',
              tys_home: 'M', tys_away: 'M', fid: '0.5',
              fse_home: 50, fse_away: 50,
              note: ''
            });
          }
          newMatches.splice(size);
          setMatches(newMatches);
        };

        const updateMatch = (idx, field, value) => {
          const newMatches = [...matches];
          newMatches[idx][field] = value;
          setMatches(newMatches);
        };

        const addEntry = (matchIdx) => {
          const newMatches = [...matches];
          newMatches[matchIdx].entries.push({ name: '', odds: '' });
          setMatches(newMatches);
        };

        const updateEntry = (matchIdx, entryIdx, field, value) => {
          const newMatches = [...matches];
          newMatches[matchIdx].entries[entryIdx][field] = value;
          setMatches(newMatches);
        };

        const removeEntry = (matchIdx, entryIdx) => {
          const newMatches = [...matches];
          if (newMatches[matchIdx].entries.length > 1) {
            newMatches[matchIdx].entries.splice(entryIdx, 1);
            setMatches(newMatches);
          }
        };

        const calcHarmonicMean = (entries) => {
          const validOdds = entries.filter(e => e.odds && parseFloat(e.odds) > 0).map(e => parseFloat(e.odds));
          if (validOdds.length === 0) return null;
          if (validOdds.length === 1) return validOdds[0].toFixed(2);
          const sum = validOdds.reduce((acc, o) => acc + (1 / o), 0);
          return (validOdds.length / sum).toFixed(2);
        };

        return (
          <div className="p-8 max-w-5xl">
            <div className="mb-6">
              <h2 className="text-2xl font-semibold text-stone-800 font-display">æ–°å»ºæŠ•èµ„</h2>
              <p className="text-stone-400 text-sm mt-1">å½•å…¥æ¯”èµ›ä¿¡æ¯ä¸é¢„æµ‹å‚æ•°</p>
            </div>

            <div className="glow-card bg-white rounded-2xl border border-stone-100 shadow-sm overflow-hidden">
              <div className="relative z-10">
                {/* Parlay Selector */}
                <div className="px-6 py-4 border-b border-stone-100 bg-stone-50/50">
                  <div className="flex items-center gap-4">
                    <span className="text-sm text-stone-600">ä¸²å…³æ•°</span>
                    <div className="flex gap-2">
                      {[1, 2, 3, 4, 5].map(n => (
                        <button key={n} onClick={() => handleParlayChange(n)}
                          className={`w-10 h-10 rounded-xl text-sm font-medium transition-all btn-hover ${n === parlaySize ? 'bg-gradient-to-br from-amber-400 to-orange-400 text-white shadow-lg shadow-orange-200/40' : 'bg-white border border-stone-200 text-stone-500 hover:border-amber-300'}`}>{n}</button>
                      ))}
                    </div>
                    <span className="text-xs text-stone-400">ï¼ˆ{parlaySize === 1 ? 'å•å…³' : `${parlaySize}å…³ç»„åˆ`}ï¼‰</span>
                  </div>
                </div>

                {/* Match Cards */}
                <div className="p-6 space-y-6">
                  {matches.map((match, idx) => (
                    <div key={idx} className={`${idx > 0 ? 'pt-6 border-t border-stone-200' : ''}`}>
                      {/* Match Header */}
                      <div className="flex items-center gap-3 mb-4">
                        <div className="w-6 h-6 rounded-lg bg-amber-100 flex items-center justify-center">
                          <span className="text-amber-600 text-xs font-bold">{idx + 1}</span>
                        </div>
                        <span className="text-sm font-medium text-stone-700">{parlaySize > 1 ? `ç¬¬ ${idx + 1} å…³` : 'æ¯”èµ›ä¿¡æ¯'}</span>
                      </div>

                      {/* Teams */}
                      <div className="grid grid-cols-11 gap-3 items-center mb-4">
                        <div className="col-span-5">
                          <label className="text-xs text-stone-400 mb-1.5 block">ä¸»é˜Ÿ</label>
                          <input type="text" placeholder="è¾“å…¥çƒé˜Ÿåæˆ–ç¼©å†™..." value={match.homeTeam} onChange={(e) => updateMatch(idx, 'homeTeam', e.target.value)}
                            className="input-glow w-full px-4 py-3 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                        </div>
                        <div className="col-span-1 text-center text-stone-300 text-lg">vs</div>
                        <div className="col-span-5">
                          <label className="text-xs text-stone-400 mb-1.5 block">å®¢é˜Ÿ</label>
                          <input type="text" placeholder="è¾“å…¥çƒé˜Ÿåæˆ–ç¼©å†™..." value={match.awayTeam} onChange={(e) => updateMatch(idx, 'awayTeam', e.target.value)}
                            className="input-glow w-full px-4 py-3 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                        </div>
                      </div>

                      {/* Entries - Multi support */}
                      <div className="mb-4">
                        <div className="flex items-center justify-between mb-2">
                          <label className="text-xs text-stone-400">Entries é¢„æµ‹ç»“æœ</label>
                          <button onClick={() => addEntry(idx)} className="text-xs text-amber-500 hover:text-amber-600 flex items-center gap-1">+ æ·»åŠ  Entry</button>
                        </div>
                        <div className="space-y-2">
                          {match.entries.map((entry, eIdx) => (
                            <div key={eIdx} className="flex items-center gap-3">
                              <div className="flex-1">
                                <input type="text" placeholder="ä¸»èƒœ / å¹³ / å¤§2.5..." value={entry.name} onChange={(e) => updateEntry(idx, eIdx, 'name', e.target.value)}
                                  className="input-glow w-full px-4 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                              </div>
                              <div className="w-24">
                                <input type="number" step="0.01" placeholder="Odds" value={entry.odds} onChange={(e) => updateEntry(idx, eIdx, 'odds', e.target.value)}
                                  className="input-glow w-full px-3 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                              </div>
                              {match.entries.length > 1 && (
                                <button onClick={() => removeEntry(idx, eIdx)} className="text-stone-400 hover:text-rose-500 text-sm">Ã—</button>
                              )}
                            </div>
                          ))}
                        </div>
                        {match.entries.length > 1 && (
                          <div className="mt-2 flex items-center gap-2 text-sm">
                            <span className="text-stone-400">Overall Oddsï¼ˆè°ƒå’Œå¹³å‡ï¼‰:</span>
                            <span className="font-semibold text-amber-600">{calcHarmonicMean(match.entries) || '-'}</span>
                          </div>
                        )}
                      </div>

                      {/* Conf + Mode Row */}
                      <div className="grid grid-cols-3 gap-4 mb-4">
                        <div>
                          <label className="text-xs text-stone-400 mb-1.5 block">Mode æ¨¡å¼</label>
                          <select value={match.mode} onChange={(e) => updateMatch(idx, 'mode', e.target.value)}
                            className="input-glow w-full px-3 py-3 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400 bg-white cursor-pointer">
                            <option>å¸¸è§„</option><option>å¸¸è§„-ç¨³</option><option>å¸¸è§„-æ æ†</option>
                            <option>åŠå½©ç¥¨åŠä¿é™©</option><option>ä¿é™©äº§å“</option><option>èµŒä¸€æŠŠ</option>
                          </select>
                        </div>
                        <div className="col-span-2">
                          <label className="text-xs text-stone-400 mb-1.5 block">Conf ç½®ä¿¡åº¦</label>
                          <div className="flex items-center gap-3">
                            <input type="range" min="0" max="100" value={match.conf} onChange={(e) => updateMatch(idx, 'conf', e.target.value)} className="flex-1" />
                            <span className="text-sm font-medium text-amber-600 w-10">{(match.conf / 100).toFixed(2)}</span>
                          </div>
                        </div>
                      </div>

                      {/* Calibration Params - Default Open */}
                      <details className="group" open>
                        <summary className="flex items-center gap-2 cursor-pointer text-sm text-stone-500 hover:text-stone-700 mb-3">
                          <span className="text-xs group-open:rotate-90 transition-transform">â–¶</span>
                          <span>æ ¡å‡†å‚æ•°ï¼ˆTYS / FID / FSEï¼‰</span>
                        </summary>
                        <div className="pl-4 border-l-2 border-amber-100">
                          <div className="grid grid-cols-4 gap-4 mb-3">
                            <div>
                              <label className="text-xs text-stone-400 mb-1.5 block">TYS-base (ä¸»)</label>
                              <div className="flex gap-1">
                                {['S', 'M', 'L', 'H'].map(v => (
                                  <button key={v} onClick={() => updateMatch(idx, 'tys_home', v)}
                                    className={`flex-1 py-2 rounded-lg text-xs font-medium btn-hover ${v === match.tys_home ? 'bg-amber-100 text-amber-700 border border-amber-200' : 'bg-stone-50 text-stone-500 border border-stone-100'}`}>{v}</button>
                                ))}
                              </div>
                            </div>
                            <div>
                              <label className="text-xs text-stone-400 mb-1.5 block">TYS-base (å®¢)</label>
                              <div className="flex gap-1">
                                {['S', 'M', 'L', 'H'].map(v => (
                                  <button key={v} onClick={() => updateMatch(idx, 'tys_away', v)}
                                    className={`flex-1 py-2 rounded-lg text-xs font-medium btn-hover ${v === match.tys_away ? 'bg-amber-100 text-amber-700 border border-amber-200' : 'bg-stone-50 text-stone-500 border border-stone-100'}`}>{v}</button>
                                ))}
                              </div>
                            </div>
                            <div className="col-span-2">
                              <label className="text-xs text-stone-400 mb-1.5 block">FID ä¿¡æ¯æ·±åº¦</label>
                              <div className="flex gap-1">
                                {['0', '0.25', '0.5', '0.75'].map(v => (
                                  <button key={v} onClick={() => updateMatch(idx, 'fid', v)}
                                    className={`flex-1 py-2 rounded-lg text-xs font-medium btn-hover ${v === match.fid ? 'bg-amber-100 text-amber-700 border border-amber-200' : 'bg-stone-50 text-stone-500 border border-stone-100'}`}>{v}</button>
                                ))}
                              </div>
                            </div>
                          </div>
                          <div className="grid grid-cols-2 gap-4">
                            <div>
                              <label className="text-xs text-stone-400 mb-1.5 block">FSE (ä¸») Feature Sensor Beta</label>
                              <div className="flex items-center gap-3">
                                <input type="range" min="0" max="100" value={match.fse_home} onChange={(e) => updateMatch(idx, 'fse_home', e.target.value)} className="flex-1" />
                                <span className="text-sm font-medium text-stone-600 w-10">{(match.fse_home / 100).toFixed(2)}</span>
                              </div>
                            </div>
                            <div>
                              <label className="text-xs text-stone-400 mb-1.5 block">FSE (å®¢) Feature Sensor Beta</label>
                              <div className="flex items-center gap-3">
                                <input type="range" min="0" max="100" value={match.fse_away} onChange={(e) => updateMatch(idx, 'fse_away', e.target.value)} className="flex-1" />
                                <span className="text-sm font-medium text-stone-600 w-10">{(match.fse_away / 100).toFixed(2)}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </details>

                      {/* Pre-match Note */}
                      <div className="mt-4">
                        <label className="text-xs text-stone-400 mb-1.5 block">èµ›å‰å¤‡æ³¨</label>
                        <input type="text" placeholder="é€‰å¡«ï¼Œè®°å½•é¢„åˆ¤ä¾æ®æˆ–å…³æ³¨ç‚¹..." value={match.note} onChange={(e) => updateMatch(idx, 'note', e.target.value)}
                          className="input-glow w-full px-4 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                      </div>
                    </div>
                  ))}
                </div>

                {/* Result Panel */}
                <div className="px-6 py-5 bg-gradient-to-r from-stone-50 to-orange-50/30 border-t border-stone-100">
                  <div className="flex items-center justify-between">
                    <div className="flex items-center gap-6">
                      <div>
                        <span className="text-xs text-stone-400 block">ç»¼åˆ Odds</span>
                        <span className="text-xl font-semibold text-stone-800">{parlaySize > 1 ? '4.32' : '2.15'}</span>
                      </div>
                      <div className="w-px h-10 bg-stone-200" />
                      <div>
                        <span className="text-xs text-stone-400 block">Expected Rating</span>
                        <span className="text-xl font-semibold text-stone-800">0.62</span>
                      </div>
                      <div className="w-px h-10 bg-stone-200" />
                      <div>
                        <span className="text-xs text-stone-400 block">Recom. Invest</span>
                        <span className="text-xl font-semibold text-amber-600">Â¥ {parlaySize > 1 ? '85' : '185'}</span>
                      </div>
                      <div className="w-px h-10 bg-stone-200" />
                      <div>
                        <span className="text-xs text-stone-400 block">é£æ§ä¸Šé™</span>
                        <span className="text-sm text-stone-500">Â¥ 341 (12%)</span>
                      </div>
                    </div>
                    <div className="flex items-center gap-3">
                      <div>
                        <label className="text-xs text-stone-400 mb-1 block">Inputs å®é™…æŠ•èµ„</label>
                        <input type="number" defaultValue={parlaySize > 1 ? 80 : 180}
                          className="input-glow w-28 px-3 py-2 rounded-xl border border-stone-200 text-sm font-medium focus:outline-none focus:border-amber-400" />
                      </div>
                      <div className="flex flex-col gap-2">
                        <button className="px-5 py-2.5 bg-gradient-to-r from-amber-400 to-orange-400 text-white rounded-xl text-sm font-medium shadow-lg shadow-orange-200/40 btn-hover">ç¡®è®¤æŠ•èµ„</button>
                        <button onClick={() => setActivePage('combo')}
                          className="px-5 py-2 border border-stone-300 text-stone-600 rounded-xl text-xs font-medium hover:bg-stone-50 hover:border-amber-300 hover:text-amber-600 transition-all btn-hover">+ åŠ å…¥ä»Šæ—¥å¤‡é€‰</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      };

      // History with pre/post notes
      const HistoryPage = () => (
        <div className="p-8">
          <div className="flex items-center justify-between mb-6">
            <div>
              <h2 className="text-2xl font-semibold text-stone-800 font-display">å†å²è®°å½•</h2>
              <p className="text-stone-400 text-sm mt-1">å…± 93 æ¡æŠ•èµ„è®°å½•</p>
            </div>
            <div className="flex items-center gap-3">
              <input type="text" placeholder="æœç´¢çƒé˜Ÿã€æ—¥æœŸ..." className="input-glow px-4 py-2 rounded-xl border border-stone-200 text-sm w-64 focus:outline-none focus:border-amber-400" />
              <button className="px-4 py-2 rounded-xl border border-stone-200 text-sm text-stone-600 hover:bg-stone-50 btn-hover">ç­›é€‰</button>
            </div>
          </div>

          <div className="flex gap-2 mb-4">
            {['å…¨éƒ¨', 'å¾…ç»“ç®—', 'å·²ä¸­', 'æœªä¸­', 'å•å…³', 'ä¸²å…³'].map((tag, i) => (
              <button key={tag} className={`px-4 py-1.5 rounded-full text-sm transition-all btn-hover ${i === 0 ? 'bg-amber-100 text-amber-700' : 'bg-stone-100 text-stone-500 hover:bg-stone-200'}`}>{tag}</button>
            ))}
          </div>

          <div className="glow-card bg-white rounded-2xl border border-stone-100 overflow-hidden">
            <div className="relative z-10">
              <table className="w-full">
                <thead>
                  <tr className="bg-stone-50 text-xs text-stone-500">
                    <th className="px-4 py-3 text-left font-medium">æ—¥æœŸ</th>
                    <th className="px-4 py-3 text-left font-medium">æ¯”èµ›</th>
                    <th className="px-4 py-3 text-left font-medium">Entries</th>
                    <th className="px-4 py-3 text-left font-medium">Odds</th>
                    <th className="px-4 py-3 text-left font-medium">Conf</th>
                    <th className="px-4 py-3 text-left font-medium">Inputs</th>
                    <th className="px-4 py-3 text-left font-medium">çŠ¶æ€</th>
                    <th className="px-4 py-3 text-left font-medium">ç›ˆäº</th>
                    <th className="px-4 py-3 text-left font-medium">å¤‡æ³¨</th>
                  </tr>
                </thead>
                <tbody>
                  {[
                    { date: '02-02', match: 'é˜¿æ£®çº³ vs åˆ‡å°”è¥¿', entries: 'ä¸»èƒœ', odds: 2.15, conf: 0.65, inputs: 180, status: 'pending', profit: '-', preNote: 'ä¸»åœºå¼ºåŠ¿', postNote: '-' },
                    { date: '02-01', match: 'åˆ©ç‰©æµ¦ vs æ›¼åŸ', entries: 'å¤§2.5', odds: 1.85, conf: 0.72, inputs: 200, status: 'win', profit: '+170', preNote: 'åŒæ–¹è¿›æ”»ç«åŠ›å¼º', postNote: 'é¢„åˆ¤å‡†ç¡®' },
                    { date: '01-31', match: 'çƒ­åˆº vs æ›¼è”', entries: 'å¹³å±€', odds: 3.40, conf: 0.42, inputs: 120, status: 'lose', profit: '-120', preNote: 'çŠ¶æ€éƒ½ä¸€èˆ¬', postNote: 'çƒ­åˆºæ„å¤–çˆ†å‘' },
                  ].map((row, i) => (
                    <tr key={i} className="border-t border-stone-100 hover:bg-amber-50/30 cursor-pointer transition-colors">
                      <td className="px-4 py-3 text-sm text-stone-500">{row.date}</td>
                      <td className="px-4 py-3 text-sm font-medium text-stone-700">{row.match}</td>
                      <td className="px-4 py-3 text-sm text-stone-600">{row.entries}</td>
                      <td className="px-4 py-3 text-sm text-stone-600">{row.odds}</td>
                      <td className="px-4 py-3 text-sm text-stone-600">{row.conf}</td>
                      <td className="px-4 py-3 text-sm text-stone-600">Â¥{row.inputs}</td>
                      <td className="px-4 py-3">
                        <span className={`px-2 py-1 rounded-full text-xs ${row.status === 'pending' ? 'bg-amber-100 text-amber-700' : row.status === 'win' ? 'bg-emerald-100 text-emerald-700' : 'bg-rose-100 text-rose-700'}`}>
                          {row.status === 'pending' ? 'å¾…ç»“ç®—' : row.status === 'win' ? 'å·²ä¸­' : 'æœªä¸­'}
                        </span>
                      </td>
                      <td className={`px-4 py-3 text-sm font-medium ${row.profit === '-' ? 'text-stone-400' : row.profit.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{row.profit}</td>
                      <td className="px-4 py-3 text-xs text-stone-400 max-w-32 truncate" title={`èµ›å‰: ${row.preNote} | èµ›å: ${row.postNote}`}>
                        {row.preNote}
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      );

      // Teams
      const TeamsPage = () => {
        const [selectedTeam, setSelectedTeam] = useState(null);
        const [searchQuery, setSearchQuery] = useState('');
        const [filterLeague, setFilterLeague] = useState('all');
        
        const teams = [
          { name: 'é˜¿æ£®çº³', abbr: 'ARS', league: 'è‹±è¶…', samples: 18, roi: '+12.4%', avgRep: 0.42, ratingDiff: '+0.03' },
          { name: 'åˆ‡å°”è¥¿', abbr: 'CHE', league: 'è‹±è¶…', samples: 15, roi: '+8.2%', avgRep: 0.38, ratingDiff: '-0.02' },
          { name: 'åˆ©ç‰©æµ¦', abbr: 'LIV', league: 'è‹±è¶…', samples: 22, roi: '+18.7%', avgRep: 0.45, ratingDiff: '+0.05' },
          { name: 'æ›¼åŸ', abbr: 'MCI', league: 'è‹±è¶…', samples: 20, roi: '-3.2%', avgRep: 0.52, ratingDiff: '-0.08' },
          { name: 'å·´å¡ç½—é‚£', abbr: 'BAR', league: 'è¥¿ç”²', samples: 8, roi: '+15.2%', avgRep: 0.35, ratingDiff: '+0.08' },
          { name: 'çš‡å®¶é©¬å¾·é‡Œ', abbr: 'RMA', league: 'è¥¿ç”²', samples: 10, roi: '+6.8%', avgRep: 0.40, ratingDiff: '-0.03' },
        ];

        const filteredTeams = teams.filter(team => {
          const matchSearch = team.name.toLowerCase().includes(searchQuery.toLowerCase()) || team.abbr.toLowerCase().includes(searchQuery.toLowerCase());
          const matchLeague = filterLeague === 'all' || team.league === filterLeague;
          return matchSearch && matchLeague;
        });

        return (
          <div className="p-8">
            <div className="mb-6">
              <h2 className="text-2xl font-semibold text-stone-800 font-display">çƒé˜Ÿæ¡£æ¡ˆé¦†</h2>
              <p className="text-stone-400 text-sm mt-1">æ¯æ”¯çƒé˜Ÿçš„å†å²è¡¨ç°è¿½è¸ªä¸åˆ†æ</p>
            </div>

            <div className="glow-card bg-white rounded-2xl p-4 border border-stone-100 mb-6">
              <div className="relative z-10 flex items-center gap-4">
                <div className="flex-1 relative">
                  <span className="absolute left-3 top-1/2 -translate-y-1/2 text-stone-400">ğŸ”</span>
                  <input type="text" placeholder="æœç´¢çƒé˜Ÿåç§°æˆ–ç¼©å†™..." value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)}
                    className="input-glow w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                </div>
                <div className="flex items-center gap-2">
                  <span className="text-sm text-stone-500">è”èµ›:</span>
                  <div className="flex gap-1">
                    {['all', 'è‹±è¶…', 'è¥¿ç”²', 'å¾·ç”²'].map(league => (
                      <button key={league} onClick={() => setFilterLeague(league)}
                        className={`px-3 py-1.5 rounded-lg text-xs font-medium btn-hover ${filterLeague === league ? 'bg-amber-100 text-amber-700' : 'bg-stone-100 text-stone-500 hover:bg-stone-200'}`}>
                        {league === 'all' ? 'å…¨éƒ¨' : league}
                      </button>
                    ))}
                  </div>
                </div>
                <div className="text-sm text-stone-400">å…± {filteredTeams.length} æ”¯çƒé˜Ÿ</div>
              </div>
            </div>

            <div className="grid grid-cols-3 gap-4 mb-6">
              {filteredTeams.map((team, i) => (
                <div key={i} onClick={() => setSelectedTeam(team)}
                  className={`glow-card bg-white rounded-2xl p-5 border cursor-pointer transition-all ${selectedTeam?.name === team.name ? 'border-amber-300 bg-amber-50/30' : 'border-stone-100'}`}>
                  <div className="relative z-10">
                    <div className="flex items-center justify-between mb-3">
                      <div>
                        <span className="font-medium text-stone-800">{team.name}</span>
                        <span className="text-xs text-stone-400 ml-2">{team.abbr}</span>
                      </div>
                      <div className="flex items-center gap-2">
                        <span className="text-[10px] px-2 py-0.5 bg-stone-100 text-stone-500 rounded-full">{team.league}</span>
                        <span className="text-xs text-stone-400">{team.samples} åœº</span>
                      </div>
                    </div>
                    <div className="grid grid-cols-3 gap-2 text-center">
                      <div>
                        <span className="text-xs text-stone-400 block">ROI</span>
                        <span className={`text-sm font-medium ${team.roi.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{team.roi}</span>
                      </div>
                      <div>
                        <span className="text-xs text-stone-400 block">Avg REP</span>
                        <span className="text-sm font-medium text-stone-700">{team.avgRep}</span>
                      </div>
                      <div>
                        <span className="text-xs text-stone-400 block">Rating Î”</span>
                        <span className={`text-sm font-medium ${team.ratingDiff.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{team.ratingDiff}</span>
                      </div>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            {selectedTeam && (
              <div className="glow-card bg-white rounded-2xl border border-stone-100 p-6">
                <div className="relative z-10">
                  <div className="flex items-center justify-between mb-6">
                    <div className="flex items-center gap-3">
                      <h3 className="font-medium text-stone-800">{selectedTeam.name} Â· è¯¦ç»†æ¡£æ¡ˆ</h3>
                      <span className="text-xs px-2 py-0.5 bg-stone-100 text-stone-500 rounded-full">{selectedTeam.league}</span>
                    </div>
                    <button onClick={() => setSelectedTeam(null)} className="text-stone-400 hover:text-stone-600">Ã—</button>
                  </div>
                  <div className="grid grid-cols-2 gap-6">
                    <div>
                      <h4 className="text-sm font-medium text-stone-600 mb-3">ROI èµ°åŠ¿</h4>
                      <div className="h-32 flex items-end gap-1">
                        {[5, 8, 3, 12, 7, 15, 10, 18].map((h, i) => (
                          <div key={i} className="flex-1 bg-gradient-to-t from-amber-400 to-orange-300 rounded-t-sm chart-bar" style={{ height: `${h * 5}%` }} />
                        ))}
                      </div>
                    </div>
                    <div>
                      <h4 className="text-sm font-medium text-stone-600 mb-3">(Act. - Exp.) Rating èµ°åŠ¿</h4>
                      <div className="h-32 flex items-center">
                        <svg viewBox="0 0 100 50" className="w-full h-full">
                          <line x1="0" y1="25" x2="100" y2="25" stroke="#e7e5e4" strokeWidth="0.5" strokeDasharray="2" />
                          <polyline fill="none" stroke="url(#lg)" strokeWidth="2" points="5,30 20,22 35,28 50,18 65,24 80,15 95,20" />
                          <defs><linearGradient id="lg" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stopColor="#fbbf24" /><stop offset="100%" stopColor="#f97316" /></linearGradient></defs>
                        </svg>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            )}
          </div>
        );
      };

      // Settle - Updated with separate Entry row
      const SettlePage = () => (
        <div className="p-8">
          <div className="mb-6">
            <h2 className="text-2xl font-semibold text-stone-800 font-display">å¾…ç»“ç®—</h2>
            <p className="text-stone-400 text-sm mt-1">3 åœºæ¯”èµ›å¾…å½•å…¥ç»“æœ</p>
          </div>

          <div className="space-y-4">
            {[
              { match: 'é˜¿æ£®çº³ vs åˆ‡å°”è¥¿', entry: 'ä¸»èƒœ', odds: 2.15, inputs: 180, date: '02-02', preNote: 'ä¸»åœºå¼ºåŠ¿' },
              { match: 'å·´å¡ç½—é‚£ vs çš‡å®¶é©¬å¾·é‡Œ', entry: 'å¤§2.5', odds: 1.95, inputs: 150, date: '02-02', preNote: 'å›½å®¶å¾·æ¯”è¿›çƒå¤š' },
            ].map((item, i) => (
              <div key={i} className="glow-card bg-white rounded-2xl border border-stone-100 p-6">
                <div className="relative z-10">
                  {/* Header */}
                  <div className="flex items-center justify-between mb-4">
                    <div>
                      <p className="font-semibold text-stone-800 text-lg">{item.match}</p>
                      <p className="text-sm text-stone-400">{item.date} Â· Odds {item.odds} Â· æŠ•èµ„ Â¥{item.inputs}</p>
                    </div>
                    <span className="px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-medium">å¾…ç»“ç®—</span>
                  </div>

                  {/* My Entry - Separate Row */}
                  <div className="mb-4 p-3 bg-amber-50 rounded-xl border border-amber-100">
                    <div className="flex items-center justify-between">
                      <div className="flex items-center gap-3">
                        <span className="text-xs text-amber-600 font-medium">æˆ‘çš„é¢„æµ‹</span>
                        <span className="text-sm font-semibold text-stone-800">{item.entry}</span>
                      </div>
                      {item.preNote && <span className="text-xs text-stone-400">èµ›å‰å¤‡æ³¨: {item.preNote}</span>}
                    </div>
                  </div>
                  
                  <div className="grid grid-cols-4 gap-4 mb-4">
                    <div>
                      <label className="text-xs text-stone-400 mb-1.5 block">Results å®é™…ç»“æœ</label>
                      <input type="text" placeholder="æ¯”åˆ†æˆ–ç»“æœ..." className="input-glow w-full px-3 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                    </div>
                    <div>
                      <label className="text-xs text-stone-400 mb-1.5 block">æ˜¯å¦å‘½ä¸­</label>
                      <div className="flex gap-2">
                        <button className="flex-1 py-2.5 rounded-lg text-xs font-medium bg-emerald-100 text-emerald-700 border border-emerald-200 btn-hover">âœ“ ä¸­</button>
                        <button className="flex-1 py-2.5 rounded-lg text-xs font-medium bg-stone-50 text-stone-500 border border-stone-100 btn-hover">âœ— æœªä¸­</button>
                      </div>
                    </div>
                    <div>
                      <label className="text-xs text-stone-400 mb-1.5 block">Actual Judgmental Rating</label>
                      <input type="number" step="0.01" placeholder="0~1" className="input-glow w-full px-3 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                    </div>
                    <div>
                      <label className="text-xs text-stone-400 mb-1.5 block">REP éšæœºäº‹ä»¶</label>
                      <input type="number" step="0.1" placeholder="0~1.8" className="input-glow w-full px-3 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                    </div>
                  </div>
                  
                  <div className="flex items-center justify-between">
                    <div className="flex-1 mr-4">
                      <label className="text-xs text-stone-400 mb-1.5 block">èµ›åå¤‡æ³¨ï¼ˆå¤ç›˜å¿ƒå¾—ï¼‰</label>
                      <input type="text" placeholder="é€‰å¡«..." className="input-glow w-full px-3 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:border-amber-400" />
                    </div>
                    <button className="px-6 py-2.5 bg-gradient-to-r from-amber-400 to-orange-400 text-white rounded-xl text-sm font-medium shadow-lg shadow-orange-200/40 btn-hover mt-5">ç¡®è®¤ç»“ç®—</button>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      );

      // Combo - Updated with Win Rate and styled numbers
      const ComboPage = () => (
        <div className="p-8">
          <div className="mb-6">
            <h2 className="text-2xl font-semibold text-stone-800 font-display">æ™ºèƒ½ç»„åˆå»ºè®®</h2>
            <p className="text-stone-400 text-sm mt-1">åŸºäº Portfolio Optimization çš„æœ€ä¼˜ä¸‹æ³¨æ–¹æ¡ˆ</p>
          </div>

          <div className="grid grid-cols-2 gap-6">
            <div className="glow-card bg-white rounded-2xl border border-stone-100 p-6">
              <div className="relative z-10">
                <div className="flex items-center justify-between mb-4">
                  <h3 className="font-medium text-stone-700">ä»Šæ—¥å¤‡é€‰æ¯”èµ›</h3>
                  <button onClick={() => setActivePage('new')} className="text-xs text-amber-500 hover:text-amber-600">+ æ·»åŠ æ¯”èµ›</button>
                </div>
                <div className="space-y-3">
                  {[
                    { match: 'é˜¿æ£®çº³ vs åˆ‡å°”è¥¿', conf: 0.65, odds: 2.15, ev: '+8.2%' },
                    { match: 'åˆ©ç‰©æµ¦ vs æ›¼åŸ', conf: 0.58, odds: 1.95, ev: '+5.1%' },
                    { match: 'å·´å¡ç½—é‚£ vs çš‡é©¬', conf: 0.45, odds: 2.80, ev: '+3.6%' },
                  ].map((item, i) => (
                    <div key={i} className="flex items-center justify-between p-4 rounded-xl bg-stone-50 border border-stone-100 hover:border-amber-200 hover:bg-amber-50/50 transition-all cursor-pointer lift-card">
                      <div className="flex items-center gap-3">
                        <input type="checkbox" defaultChecked className="w-4 h-4 accent-amber-500 cursor-pointer" />
                        <div>
                          <p className="text-sm font-medium text-stone-700">{item.match}</p>
                          <p className="text-xs text-stone-400">Conf {item.conf} Â· Odds {item.odds}</p>
                        </div>
                      </div>
                      <span className="text-sm font-medium text-emerald-600">é¢„æœŸæ”¶ç›Š {item.ev}</span>
                    </div>
                  ))}
                </div>

                <div className="mt-6 pt-6 border-t border-stone-100">
                  <label className="text-sm text-stone-600 mb-3 block">é£é™©åå¥½</label>
                  <div className="flex items-center gap-4">
                    <span className="text-xs text-stone-400">ä¿å®ˆ</span>
                    <input type="range" min="0" max="100" defaultValue="50" className="flex-1" />
                    <span className="text-xs text-stone-400">æ¿€è¿›</span>
                  </div>
                </div>

                <div className="flex gap-3 mt-6">
                  <button className="flex-1 py-3 bg-gradient-to-r from-amber-400 to-orange-400 text-white rounded-xl text-sm font-medium shadow-lg shadow-orange-200/40 btn-hover">ç”Ÿæˆæœ€ä¼˜ç»„åˆ</button>
                  <button className="flex-1 py-3 border border-amber-300 text-amber-600 rounded-xl text-sm font-medium hover:bg-amber-50 btn-hover">ç¡®è®¤æŠ•èµ„å·²å‹¾é€‰</button>
                </div>
              </div>
            </div>

            <div className="glow-card bg-white rounded-2xl border border-stone-100 p-6">
              <div className="relative z-10">
                <h3 className="font-medium text-stone-700 mb-4">æ¨èæ–¹æ¡ˆ</h3>
                <div className="space-y-3">
                  {[
                    { tier: 'T1 ä¸»æ¨', combo: 'é˜¿æ£®çº³ä¸»èƒœ Ã— åˆ©ç‰©æµ¦å¤§2.5', allocation: 'Â¥280', ev: '+12.4%', winRate: '58%', sharpe: '1.82' },
                    { tier: 'T2 æ¬¡æ¨', combo: 'é˜¿æ£®çº³ä¸»èƒœ å•å…³', allocation: 'Â¥180', ev: '+8.2%', winRate: '65%', sharpe: '1.45' },
                    { tier: 'T3 åšå†·', combo: 'ä¸‰å…³ç»„åˆ', allocation: 'Â¥60', ev: '+18.7%', winRate: '22%', sharpe: '0.92' },
                  ].map((item, i) => (
                    <div key={i} className={`p-4 rounded-xl border transition-all cursor-pointer lift-card ${i === 0 ? 'border-amber-200 bg-amber-50/50' : 'border-stone-100 bg-stone-50'}`}>
                      <div className="flex items-center justify-between mb-2">
                        <span className={`text-xs font-medium ${i === 0 ? 'text-amber-600' : 'text-stone-500'}`}>{item.tier}</span>
                        <span className="text-sm font-semibold text-stone-800">{item.allocation}</span>
                      </div>
                      <p className="text-sm text-stone-700 mb-2">{item.combo}</p>
                      <div className="flex gap-4 text-xs text-stone-500">
                        <span>é¢„æœŸæ”¶ç›Š: <span className="text-emerald-600 font-medium">{item.ev}</span></span>
                        <span>Win Rate: <span className="stat-value text-sky-600">{item.winRate}</span></span>
                        <span>Sharpe: <span className="stat-value text-violet-600">{item.sharpe}</span></span>
                      </div>
                    </div>
                  ))}
                </div>

                <div className="mt-4 p-4 rounded-xl bg-stone-50 border border-stone-100">
                  <div className="flex justify-between text-sm">
                    <span className="text-stone-500">æ€»æŠ•èµ„</span>
                    <span className="font-semibold text-stone-800">Â¥520</span>
                  </div>
                  <div className="flex justify-between text-sm mt-2">
                    <span className="text-stone-500">ç»„åˆé¢„æœŸæ”¶ç›Š</span>
                    <span className="font-medium text-emerald-600">+11.2%</span>
                  </div>
                </div>

                <button className="w-full mt-4 py-3 border border-amber-300 text-amber-600 rounded-xl text-sm font-medium hover:bg-amber-50 btn-hover">ä¸€é”®é‡‡çº³æ–¹æ¡ˆ</button>
              </div>
            </div>
          </div>
        </div>
      );

      // Params - Redesigned
      const ParamsPage = () => {
        const [showKellyModal, setShowKellyModal] = useState(false);
        
        const kellyModalContent = (
          <div>
            <p className="text-sm text-stone-500 mb-4">åŸºäºæ·±åº¦åˆ†æä¸­å„ Mode çš„å†å²è¡¨ç°ï¼ŒåŠ¨æ€è®¡ç®—å»ºè®® Kelly åˆ†æ¯</p>
            <table className="w-full text-sm">
              <thead><tr className="border-b border-stone-200 text-left text-stone-500">
                <th className="py-2 font-medium">Mode</th><th className="py-2 font-medium">æ ·æœ¬</th><th className="py-2 font-medium">ROI</th><th className="py-2 font-medium">å»ºè®® Kelly</th>
              </tr></thead>
              <tbody>
                {[
                  { mode: 'å¸¸è§„', samples: 45, roi: '+12.4%', kelly: '4.0' },
                  { mode: 'å¸¸è§„-ç¨³', samples: 18, roi: '+8.2%', kelly: '3.5' },
                  { mode: 'ä¿é™©äº§å“', samples: 15, roi: '+18.5%', kelly: '3.0' },
                  { mode: 'åŠå½©ç¥¨åŠä¿é™©', samples: 10, roi: '-5.2%', kelly: '5.0' },
                  { mode: 'èµŒä¸€æŠŠ', samples: 5, roi: '-32.0%', kelly: '6.0' },
                ].map((r, i) => (
                  <tr key={i} className="border-b border-stone-100">
                    <td className="py-2 font-medium text-stone-700">{r.mode}</td>
                    <td className="py-2 text-stone-500">{r.samples}</td>
                    <td className={`py-2 ${r.roi.startsWith('+') ? 'text-emerald-600' : 'text-rose-500'}`}>{r.roi}</td>
                    <td className="py-2 font-semibold text-amber-600">{r.kelly}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        );

        return (
          <div className="p-8 max-w-4xl">
            <div className="mb-6">
              <h2 className="text-2xl font-semibold text-stone-800 font-display">å‚æ•°åå°</h2>
              <p className="text-stone-400 text-sm mt-1">ç³»ç»Ÿæ ¸å¿ƒå‚æ•°ä¸æ ¡å‡†ç³»æ•°é…ç½®</p>
            </div>

            {/* Core Indicator - Hero Card */}
            <div className="glow-card bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 rounded-2xl p-6 border border-amber-200 mb-6">
              <div className="relative z-10">
                <div className="flex items-start justify-between">
                  <div>
                    <div className="flex items-center gap-2 mb-2">
                      <span className="text-amber-600 text-lg">â–</span>
                      <span className="text-xs text-amber-600 font-medium uppercase tracking-wide">Core Metric</span>
                    </div>
                    <h3 className="text-xl font-semibold text-stone-800">Expected vs Actual Judgmental Rating</h3>
                    <p className="text-sm text-stone-500 mt-1">è¡¡é‡é¢„æµ‹ç½®ä¿¡åº¦ä¸å®é™…ç»“æœçš„å»åˆç¨‹åº¦</p>
                  </div>
                  <div className="text-right">
                    <div className="text-4xl font-bold text-amber-600">0.92</div>
                    <p className="text-sm text-emerald-600 mt-1">â†‘ æ ¡å‡†è‰¯å¥½ Â· åå·® -8%</p>
                  </div>
                </div>
              </div>
            </div>

            {/* Two Column Layout */}
            <div className="grid grid-cols-2 gap-6 mb-6">
              {/* Left - Capital & Risk */}
              <div className="glow-card bg-white rounded-2xl border border-stone-100 p-6">
                <div className="relative z-10">
                  <h3 className="font-medium text-stone-700 mb-4 flex items-center gap-2">
                    <span className="text-amber-500">â—</span> èµ„é‡‘ä¸é£æ§
                  </h3>
                  <div className="space-y-4">
                    <div className="flex items-center justify-between p-3 bg-stone-50 rounded-xl">
                      <div>
                        <span className="text-sm text-stone-700">åˆå§‹æœ¬é‡‘</span>
                        <p className="text-xs text-stone-400">åŸºå‡†èµ„é‡‘æ± </p>
                      </div>
                      <div className="flex items-center gap-2">
                        <span className="text-stone-400">Â¥</span>
                        <input type="number" defaultValue="600" className="input-glow w-20 px-2 py-1.5 text-right text-sm font-medium rounded-lg border border-stone-200 focus:outline-none focus:border-amber-400" />
                      </div>
                    </div>
                    <div className="flex items-center justify-between p-3 bg-stone-50 rounded-xl">
                      <div>
                        <span className="text-sm text-stone-700">é£æ§æ¯”ä¾‹ä¸Šé™</span>
                        <p className="text-xs text-stone-400">å•ç¬”æœ€å¤§æŠ•èµ„å æ¯”</p>
                      </div>
                      <div className="flex items-center gap-1">
                        <input type="number" defaultValue="12" className="input-glow w-16 px-2 py-1.5 text-right text-sm font-medium rounded-lg border border-stone-200 focus:outline-none focus:border-amber-400" />
                        <span className="text-stone-400">%</span>
                      </div>
                    </div>
                    <div className="flex items-center justify-between p-3 bg-stone-50 rounded-xl">
                      <div>
                        <span className="text-sm text-stone-700">é»˜è®¤èµ”ç‡</span>
                        <p className="text-xs text-stone-400">æœªå¡«å†™æ—¶çš„å‡è®¾å€¼</p>
                      </div>
                      <div className="flex items-center gap-1">
                        <input type="number" step="0.1" defaultValue="2.5" className="input-glow w-16 px-2 py-1.5 text-right text-sm font-medium rounded-lg border border-stone-200 focus:outline-none focus:border-amber-400" />
                        <span className="text-stone-400">x</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {/* Right - Kelly Settings */}
              <div className="glow-card bg-white rounded-2xl border border-stone-100 p-6">
                <div className="relative z-10">
                  <h3 className="font-medium text-stone-700 mb-4 flex items-center gap-2">
                    <span className="text-amber-500">â—ˆ</span> Kelly å‚æ•°
                  </h3>
                  <div onClick={() => setShowKellyModal(true)} className="p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200 cursor-pointer hover:shadow-md transition-all">
                    <div className="flex items-center justify-between mb-2">
                      <span className="text-sm text-stone-700">å¹³å‡ Kelly åˆ†æ¯</span>
                      <span className="text-2xl font-bold text-amber-600">3.8</span>
                    </div>
                    <p className="text-xs text-stone-500">åŸºäºå„ Mode å†å²è¡¨ç°åŠ æƒè®¡ç®—</p>
                    <p className="text-xs text-amber-600 mt-2">ç‚¹å‡»æŸ¥çœ‹å„ Mode å»ºè®® â†’</p>
                  </div>
                  <div className="mt-4 p-3 bg-stone-50 rounded-xl">
                    <div className="flex items-center justify-between">
                      <div>
                        <span className="text-sm text-stone-700">æ‰‹åŠ¨è¦†ç›–</span>
                        <p className="text-xs text-stone-400">å¼ºåˆ¶ä½¿ç”¨å›ºå®šåˆ†æ¯</p>
                      </div>
                      <div className="flex items-center gap-2">
                        <input type="checkbox" className="accent-amber-500" />
                        <input type="number" step="0.5" defaultValue="4" className="input-glow w-16 px-2 py-1.5 text-right text-sm rounded-lg border border-stone-200 focus:outline-none focus:border-amber-400" />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {/* Calibration Factors */}
            <div className="glow-card bg-white rounded-2xl border border-stone-100 p-6">
              <div className="relative z-10">
                <div className="flex items-center justify-between mb-4">
                  <h3 className="font-medium text-stone-700 flex items-center gap-2">
                    <span className="text-amber-500">â—‡</span> åŠ¨æ€æ ¡å‡†ç³»æ•°
                  </h3>
                  <span className="text-xs text-stone-400 px-2 py-1 bg-stone-100 rounded">å›å½’åˆ†æè‡ªåŠ¨æ›´æ–° Â· åªè¯»</span>
                </div>
                <div className="grid grid-cols-6 gap-3">
                  {[
                    { label: 'Conf', value: '1.08', trend: 'â†‘' },
                    { label: 'Mode', value: '0.95', trend: 'â†’' },
                    { label: 'TYS', value: '1.02', trend: 'â†‘' },
                    { label: 'FID', value: '1.12', trend: 'â†‘' },
                    { label: 'Odds', value: '0.98', trend: 'â†“' },
                    { label: 'FSE', value: '1.05', trend: 'â†’' },
                  ].map((item, i) => (
                    <div key={i} className="p-3 bg-stone-50 rounded-xl text-center hover:bg-amber-50 transition-colors">
                      <span className="text-xs text-stone-400 block">{item.label}</span>
                      <span className="text-lg font-semibold text-stone-700">{item.value}</span>
                      <span className={`text-xs block ${item.trend === 'â†‘' ? 'text-emerald-500' : item.trend === 'â†“' ? 'text-rose-500' : 'text-stone-400'}`}>{item.trend}</span>
                    </div>
                  ))}
                </div>
                <p className="text-xs text-stone-400 mt-4 text-center">ç³»æ•°åŸºäºå†å²æ•°æ®æ¯å‘¨è‡ªåŠ¨å›å½’æ›´æ–°ï¼Œæ•°å€¼ &gt;1 è¡¨ç¤ºè¯¥å› å­æ­£å‘å½±å“é¢„æµ‹å‡†ç¡®åº¦</p>
              </div>
            </div>

            {showKellyModal && <Modal data={{ title: 'Kelly åˆ†æ¯ Â· å„ Mode å»ºè®®', content: kellyModalContent }} onClose={() => setShowKellyModal(false)} />}
          </div>
        );
      };

      const renderPage = () => {
        if (activeSubPage === 'analysis') return <AnalysisPage />;
        if (activeSubPage === 'teams') return <TeamsPage />;
        switch(activePage) {
          case 'dashboard': return <DashboardPage />;
          case 'new': return <NewInvestmentPage />;
          case 'history': return <HistoryPage />;
          case 'settle': return <SettlePage />;
          case 'combo': return <ComboPage />;
          case 'params': return <ParamsPage />;
          default: return <NewInvestmentPage />;
        }
      };

      return (
        <div className="flex h-screen bg-stone-100/50">
          <Sidebar />
          <main className="flex-1 overflow-auto">{renderPage()}</main>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<DugouDesign />);
  </script>
</body>
</html>
